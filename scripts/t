#!/bin/bash  

# alias for taskwarriors that works with project based on git repo
clear
dir=$(tdir)

if [ "$dir" = "$USER" ]; then
  task $@
  exit
fi

# situation when we are in todo.work folder then we assume we deal with projects
if [ "$dir" = "todo.work" ]; then
  baseproject=$(basename "`pwd`")

  if [ -f context.md ]; then
    context="+$(head -n 1 context.md )"
  else
    context=""
  fi

  task pro:$baseproject $context $@
  exit
fi

task pro:$dir $@
